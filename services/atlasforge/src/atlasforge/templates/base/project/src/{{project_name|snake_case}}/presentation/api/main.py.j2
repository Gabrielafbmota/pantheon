"""FastAPI application entry point."""

from fastapi import FastAPI
from fastapi.responses import JSONResponse

app = FastAPI(
    title="{{ project_name | pascal_case }} API",
    description="Generated by AtlasForge",
    version="0.1.0",
)


@app.get("/")
async def root() -> dict:
    """Root endpoint."""
    return {
        "service": "{{ project_name }}",
        "version": "0.1.0",
        "status": "running",
    }


@app.get("/health")
async def health() -> JSONResponse:
    """
    Health check endpoint.

    Returns readiness and liveness status.
    """
    return JSONResponse(
        status_code=200,
        content={
            "status": "healthy",
            "service": "{{ project_name }}",
            "checks": {
                "api": "ok",
            },
        },
    )


@app.get("/metrics")
async def metrics() -> dict:
    """
    Metrics endpoint (Prometheus-compatible placeholder).

    In production, this would return actual metrics.
    """
    return {
        "requests_total": 0,
        "requests_duration_seconds": 0.0,
    }
